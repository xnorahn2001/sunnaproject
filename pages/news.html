<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฃุฎุจุงุฑูุง - ุดุฑูุฉ ุตูุงุน ุงูุฑุณุงูุฉ ุงููุงุจุถุฉ</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=IBM+Plex+Sans+Arabic:wght@300;400;500;700&display=swap"
        rel="stylesheet">

    <link rel="icon" href="../images/ุดุนุงุฑ ุตูุงุน (2).png" type="image/x-icon">

    <style>
        :root {
            --color-primary: #155FCF;
            --color-dark-text: #111827;
            --color-white: #ffffff;
        }

        body {
            font-family: 'IBM Plex Sans Arabic', sans-serif;
            text-align: right;
            color: var(--color-dark-text);
            background-color: var(--color-white);
        }

        .custom-shadow {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2) !important;
        }

        .news-card {
            transition: all 0.3s ease;
            border-radius: 1.5rem;
            border: 1px solid #f3f4f6;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100%;
            background: white;
        }

        .news-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3) !important;
        }

        .news-image {
            height: 220px;
            object-fit: cover;
            width: 100%;
            background: #f1f5f9;
        }

        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            from {
                background-position: 200% 0;
            }

            to {
                background-position: -200% 0;
            }
        }
    </style>
</head>

<body class="antialiased" x-data="{ mobileMenu: false, dropdownOpen: false }">
    <!-- Navbar -->
    <div id="main-navbar" class="w-full text-gray-700 bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-screen-xl px-8 mx-auto flex items-center justify-between h-20 md:h-24">
            <div class="flex items-center space-x-2 flex-row-reverse order-1">
                <a href="../index.html" class="focus:outline-none flex items-center">
                    <img src="../imgaes/ุดุนุงุฑ ุตูุงุน (2).png" alt="Logo" class="h-12 w-auto">
                </a>
                <button @click="mobileMenu = !mobileMenu" class="rounded-lg md:hidden focus:outline-none mr-4">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <nav class="hidden md:flex flex-grow justify-center order-2">
                <div class="flex items-center md:space-x-8 md:space-x-reverse">
                    <a class="px-4 py-2 text-sm text-gray-700 hover:text-blue-600 transition"
                        href="../index.html">ุงูุฑุฆูุณูุฉ</a>
                    <a class="px-4 py-2 text-sm text-gray-700 hover:text-blue-600 transition"
                        href="./services.html">ุงูุฎุฏูุงุช</a>
                    <a class="px-4 py-2 text-sm text-gray-700 hover:text-blue-600 transition" href="./about.html">ุนู
                        ุตูุงุน</a>
                    <a class="px-4 py-2 text-sm font-bold text-blue-600 border-b-2 border-blue-600"
                        href="./news.html">ุฃุฎุจุงุฑูุง</a>
                </div>
            </nav>
            <div class="hidden md:flex items-center space-x-3 space-x-reverse order-3">
                <a class="px-8 py-2 text-sm bg-blue-600 text-white rounded-full font-bold custom-shadow"
                    href="./register.html">ุชุณุฌูู</a>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="py-16 bg-white text-center">
        <div class="max-w-7xl mx-auto px-8">
            <div class="inline-flex items-center px-4 py-2 bg-blue-50 rounded-full mb-6">
                <i class="fas fa-bullhorn ml-2 text-blue-600"></i>
                <span class="text-blue-700 font-bold text-sm">ุขุฎุฑ ุงููุณุชุฌุฏุงุช</span>
            </div>
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 mb-4 tracking-tight">ููุชุจุฉ <span
                    class="text-blue-600">ุงูุฃุฎุจุงุฑ</span></h1>
            <p class="text-gray-600 text-lg max-w-2xl mx-auto leading-relaxed">ูู ูุง ูุฎุต ุดุฑูุฉ ุตูุงุน ุงูุฑุณุงูุฉ ูู ูุดุงุฑูุน
                ูุดุฑุงูุงุช ูุฅุทูุงูุงุช ุฌุฏูุฏุฉ.</p>
        </div>
    </section>
    <!-- News Grid -->
    <section class="pb-24 bg-white flex-grow">
        <div class="max-w-screen-xl mx-auto px-8">

            <div id="news-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                <!-- Skeletons (Loading State) -->
                <div class="news-card skeleton h-80"></div>
                <div class="news-card skeleton h-80"></div>
                <div class="news-card skeleton h-80"></div>
            </div>
            <div id="no-news" class="hidden text-center py-20 text-gray-400">
                <i class="fas fa-newspaper text-5xl mb-4"></i>
                <p>ูุง ุชูุฌุฏ ุฃุฎุจุงุฑ ููุดูุฑุฉ ุญุงููุงู</p>
            </div>

        </div>
    </section>
    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 pt-16 pb-8 text-right">
        <div class="max-w-screen-xl mx-auto px-8">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-12 mb-12">
                <div>
                    <img src="../imgaes/ุดุนุงุฑ ุตูุงุน (2).png" alt="Logo" class="w-24 h-auto mb-6">
                    <p class="text-gray-500 text-sm leading-relaxed font-medium">ุดุฑูุฉ ุตูุงุน ุงูุฑุณุงูุฉ ุงููุงุจุถุฉ ูู ููุตุฉ ุดุงููุฉ
                        ุชููู ุงุตุญุงุจ ุงูุงููุงุฑ ูุฑูุงุฏ ุงูุงุนูุงู ูู ุชุญููู ุฃููุงุฑูู ุฅูู ููุชุฌุงุช.</p>
                </div>
                <div>
                    <h4 class="font-bold text-blue-600 mb-6 font-montserrat">ุงูุฑูุงุจุท ุงูุฃุณุงุณูุฉ</h4>
                    <ul class="space-y-3 text-gray-700 text-sm">
                        <li><a href="../index.html" class="hover:text-blue-600">ุงูุฑุฆูุณูุฉ</a></li>
                        <li><a href="./about.html" class="hover:text-blue-600">ุนู ุตูุงุน</a></li>
                        <li><a href="./services.html" class="hover:text-blue-600">ุฎุฏูุงุชูุง</a></li>
                        <li><a href="./products.html" class="hover:text-blue-600">ููุชุฌุงุชูุง</a></li>
                        <li><a href="./designers.html" class="hover:text-blue-600">ุงูุฎุจุฑุงุก ูุงููุณุชุดุงุฑูู</a></li>

                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-blue-600 mb-6">ุงูุฏุนู ูุงูุชูุงุตู</h4>
                    <ul class="space-y-3 text-gray-700 text-sm">
                        <li><a href="./contact.html" class="hover:text-blue-600">ุชูุงุตู ูุนูุง</a></li>
                        <li><a href="./news.html" class="hover:text-blue-600">ุฃุฎุจุงุฑูุง ููุณุชุฌุฏุงุชูุง</a></li>
                        <li><a href="./register.html" class="hover:text-blue-600">ุงูุถู ูุตุงูุน</a></li>
                        <li><a href="./privacy-policy.html" class="hover:text-blue-600">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ ูุงููุณุชุฎุฏู</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-blue-600 mb-6">ุชูุงุตู ูุนูุง</h4>
                    <ul class="space-y-4 text-gray-700 text-sm">
                        <li class="flex items-center gap-3 justify-end">
                            <span>info@sunnaasar.com</span>
                            <i class="fas fa-envelope text-blue-600 w-5 text-center"></i>
                        </li>
                        <li class="flex items-center gap-3 justify-end">
                            <span class="font-montserrat" style="direction: ltr; unicode-bidi: embed;">+966 55 388
                                1493</span>
                            <i class="fas fa-phone text-blue-600 w-5 text-center"></i>
                        </li>
                        <li class="flex items-center gap-3 justify-end">
                            <span>ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ</span>
                            <i class="fas fa-map-marker-alt text-blue-600 w-5 text-center"></i>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t pt-8 text-center text-gray-400 text-xs font-montserrat">
                ยฉ <span id="current-year"></span> SUNNA ALL RIGHTS RESERVED
            </div>
        </div>
    </footer>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 1000, once: true });
        document.getElementById('current-year').textContent = new Date().getFullYear();
        // --- ุฏุงูุฉ ุฌูุจ ุงูุฃุฎุจุงุฑ ---
        async function fetchLiveNews() {
            const container = document.getElementById('news-container');
            const noNewsMsg = document.getElementById('no-news');

            // ุฑุงุจุท ุงูุณูุฑูุฑ ุงูุฃุณุงุณู (ููู ุฌุฏุงู ููุตูุฑ)
            const BASE_URL = 'https://sunnabackend.onrender.com';
            try {
                // ุทูุจ ุงูุจูุงูุงุช ูู API
                const response = await fetch(`${BASE_URL}/api/AdminContent/get-all-news`);

                if (!response.ok) throw new Error('Network error');
                const newsList = await response.json();

                container.innerHTML = ''; // ูุณุญ ุนูุงูุงุช ุงูุชุญููู
                if (!newsList || newsList.length === 0) {
                    noNewsMsg.classList.remove('hidden');
                    return;
                }
                newsList.forEach((news, index) => {
                    // 1. ูุนุงูุฌุฉ ุงูุชุงุฑูุฎ
                    const dateStr = news.CreatedAt || news.createdAt || new Date();
                    const date = new Date(dateStr).toLocaleDateString('ar-SA', {
                        year: 'numeric', month: 'long', day: 'numeric'
                    });
                    // 2. ูุนุงูุฌุฉ ุงูุตูุฑุฉ (ุงูุญู ุงูุฌุฐุฑู)
                    let rawImg = news.ImageUrl || news.imageUrl; // ูุฑุงุกุฉ ุงููุณุงุฑ ุงูุฎุงู
                    let displayImg = '';
                    if (rawImg) {
                        if (rawImg.startsWith('/')) {
                            // ุฅุฐุง ูุงู ูุณุงุฑุงู ูุณุจูุงู (ูู ุงูุณูุฑูุฑ)ุ ูุถูู ูู ุงูุฏูููู
                            displayImg = BASE_URL + rawImg;
                        } else if (rawImg.startsWith('http')) {
                            // ุฅุฐุง ูุงู ุฑุงุจุท ุฎุงุฑุฌูุ ูุณุชุฎุฏูู ููุง ูู
                            displayImg = rawImg;
                        } else {
                            // ููุงุญุชูุงุท
                            displayImg = BASE_URL + '/' + rawImg;
                        }
                    } else {
                        // ุตูุฑุฉ ุงุญุชูุงุทูุฉ ูู ุญุงู ุนุฏู ูุฌูุฏ ุตูุฑุฉ
                        displayImg = '../images/default_news.png';
                    }
                    // 3. ูุนุงูุฌุฉ ุงููุตูุต (ุงูุนููุงู ูุงููุตู)
                    const title = news.Title || news.title || "ุจุฏูู ุนููุงู";
                    let content = news.Description || news.description || news.content || "";
                    // 4. ูุต ุงููุต ุจุฃูุงู
                    const shortDesc = content.substring(0, 100) + (content.length > 100 ? '...' : '');
                    // ุจูุงุก ููุฏ HTML ููุฎุจุฑ
                    const newsHtml = `
                        <div data-aos="fade-up" data-aos-delay="${index * 100}" class="news-card custom-shadow">
                             <img src="${displayImg}" alt="${title}" class="news-image" 
                                  onerror="this.onerror=null;this.src='../images/ุดุนุงุฑ ุตูุงุน (2).png';">
                            <div class="p-8 flex-grow">
                                <span class="bg-blue-50 text-blue-600 font-bold px-3 py-1 rounded-full text-[10px] mb-4 inline-block">
                                    ๐๏ธ ${date}
                                </span>
                                <h3 class="text-xl font-bold mb-4 text-gray-900 leading-tight">${title}</h3>
                                <p class="text-gray-600 text-sm leading-relaxed mb-6">
                                    ${shortDesc}
                                </p>
                            </div>
                        </div>
                    `;
                    container.innerHTML += newsHtml;
                });
            } catch (error) {
                console.error('Error fetching news:', error);
                container.innerHTML = '<p class="text-center col-span-full text-red-400">ุนุฐุฑุงูุ ูุดู ุชุญููู ุงูุฃุฎุจุงุฑ ุญุงููุงู. ุชุฃูุฏ ูู ุชุดุบูู ุงูุณูุฑูุฑ.</p>';
            }
        }
        // ุชุดุบูู ุงูุฌูุจ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        window.onload = fetchLiveNews;
    </script>
</body>

</html>